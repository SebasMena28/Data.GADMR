{"ast":null,"code":"import{useRef,useState}from\"react\";import{Link}from'react-router-dom';import{Card,CardContent,Typography,TextField,Button,Alert}from'@mui/material';import{supabase}from\"../../../utility/SupabaseClient\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Register=()=>{const emailRef=useRef(null);const passwordRef=useRef(null);const confirmPasswordRef=useRef(null);const[errorMsg,setErrorMsg]=useState(\"\");const[msg,setMsg]=useState(\"\");const[loading,setLoading]=useState(false);const register=(email,password)=>supabase.auth.signUp({email,password});const handleSubmit=async e=>{var _passwordRef$current,_emailRef$current,_confirmPasswordRef$c;e.preventDefault();if(!((_passwordRef$current=passwordRef.current)!==null&&_passwordRef$current!==void 0&&_passwordRef$current.value)||!((_emailRef$current=emailRef.current)!==null&&_emailRef$current!==void 0&&_emailRef$current.value)||!((_confirmPasswordRef$c=confirmPasswordRef.current)!==null&&_confirmPasswordRef$c!==void 0&&_confirmPasswordRef$c.value)){setErrorMsg(\"Please fill all the fields\");return;}if(passwordRef.current.value!==confirmPasswordRef.current.value){setErrorMsg(\"Passwords doesn't match\");return;}try{setErrorMsg(\"\");setLoading(true);const{data,error}=await register(emailRef.current.value,passwordRef.current.value);if(!error&&data){setMsg(\"Registration Successful. Check your email to confirm your account\");}}catch(error){setErrorMsg(\"Error in Creating Account\");}setLoading(false);};return/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h2\",align:\"center\",gutterBottom:true,children:\"Register\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Email\",type:\"email\",inputRef:emailRef,required:true}),/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Password\",type:\"password\",inputRef:passwordRef,required:true}),/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Confirm Password\",type:\"password\",inputRef:confirmPasswordRef,required:true}),errorMsg&&/*#__PURE__*/_jsx(Alert,{severity:\"error\",onClose:()=>setErrorMsg(''),children:errorMsg}),msg&&/*#__PURE__*/_jsx(Alert,{severity:\"success\",onClose:()=>setMsg(''),children:msg}),/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center',marginTop:'16px'},children:/*#__PURE__*/_jsx(Button,{disabled:loading,type:\"submit\",variant:\"contained\",color:\"primary\",fullWidth:true,children:\"Register\"})})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',marginTop:'16px'},children:[\"Already a User? \",/*#__PURE__*/_jsx(Link,{component:Link,to:\"/login\",children:\"Login\"})]})]});};export default Register;","map":{"version":3,"names":["useRef","useState","Link","Card","CardContent","Typography","TextField","Button","Alert","supabase","jsx","_jsx","jsxs","_jsxs","Register","emailRef","passwordRef","confirmPasswordRef","errorMsg","setErrorMsg","msg","setMsg","loading","setLoading","register","email","password","auth","signUp","handleSubmit","e","_passwordRef$current","_emailRef$current","_confirmPasswordRef$c","preventDefault","current","value","data","error","children","variant","align","gutterBottom","onSubmit","fullWidth","label","type","inputRef","required","severity","onClose","style","textAlign","marginTop","disabled","color","component","to"],"sources":["C:/Users/Usuario/Desktop/Municipio/Data.GADMR/src/sections/auth/register/RegisterForm.js"],"sourcesContent":["import { useRef, useState } from \"react\";\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport { Card, CardContent, Typography, TextField, Button, Alert } from '@mui/material';\r\nimport { supabase } from \"../../../utility/SupabaseClient\";\r\n\r\nconst Register = () => {\r\n  const emailRef = useRef(null);\r\n  const passwordRef = useRef(null);\r\n  const confirmPasswordRef = useRef(null);\r\n  const [errorMsg, setErrorMsg] = useState(\"\");\r\n  const [msg, setMsg] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const register = (email, password) =>\r\n    supabase.auth.signUp({ email, password });\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (\r\n      !passwordRef.current?.value ||\r\n      !emailRef.current?.value ||\r\n      !confirmPasswordRef.current?.value\r\n    ) {\r\n      setErrorMsg(\"Please fill all the fields\");\r\n      return;\r\n    }\r\n    if (passwordRef.current.value !== confirmPasswordRef.current.value) {\r\n      setErrorMsg(\"Passwords doesn't match\");\r\n      return;\r\n    }\r\n    try {\r\n      setErrorMsg(\"\");\r\n      setLoading(true);\r\n      const { data, error } = await register(\r\n        emailRef.current.value,\r\n        passwordRef.current.value\r\n      );\r\n      if (!error && data) {\r\n        setMsg(\r\n          \"Registration Successful. Check your email to confirm your account\"\r\n        );\r\n      }\r\n    } catch (error) {\r\n      setErrorMsg(\"Error in Creating Account\");\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  return (\r\n    <Card>\r\n      <CardContent>\r\n        <Typography variant=\"h2\" align=\"center\" gutterBottom>\r\n          Register\r\n        </Typography>\r\n        <form onSubmit={handleSubmit}>\r\n          <TextField\r\n            fullWidth\r\n            label=\"Email\"\r\n            type=\"email\"\r\n            inputRef={emailRef}\r\n            required\r\n          />\r\n          <TextField\r\n            fullWidth\r\n            label=\"Password\"\r\n            type=\"password\"\r\n            inputRef={passwordRef}\r\n            required\r\n          />\r\n          <TextField\r\n            fullWidth\r\n            label=\"Confirm Password\"\r\n            type=\"password\"\r\n            inputRef={confirmPasswordRef}\r\n            required\r\n          />\r\n          {errorMsg && (\r\n            <Alert severity=\"error\" onClose={() => setErrorMsg('')}>\r\n              {errorMsg}\r\n            </Alert>\r\n          )}\r\n          {msg && (\r\n            <Alert severity=\"success\" onClose={() => setMsg('')}>\r\n              {msg}\r\n            </Alert>\r\n          )}\r\n          <div style={{ textAlign: 'center', marginTop: '16px' }}>\r\n            <Button\r\n              disabled={loading}\r\n              type=\"submit\"\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              fullWidth\r\n            >\r\n              Register\r\n            </Button>\r\n          </div>\r\n        </form>\r\n      </CardContent>\r\n      <div style={{ textAlign: 'center', marginTop: '16px' }}>\r\n        Already a User? <Link component={Link} to=\"/login\">Login</Link>\r\n      </div>\r\n    </Card>\r\n  );\r\n}\r\n\r\nexport default Register;"],"mappings":"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"},"metadata":{},"sourceType":"module"}