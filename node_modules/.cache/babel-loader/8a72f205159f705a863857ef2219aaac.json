{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Usuario\\\\Desktop\\\\Municipio\\\\gestion-documental\\\\src\\\\context\\\\supaContex.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport { createContext, useContext, useEffect, useState } from 'react';\nimport { v4 as uuidv4 } from 'uuid';\nimport { supabase } from '../utility/SupabaseClient';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AuthContext = /*#__PURE__*/createContext({});\nexport const useAuth = () => {\n  _s();\n  return useContext(AuthContext);\n};\n_s(useAuth, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nconst login = async (email, password) => supabase.auth.signInWithPassword({\n  email,\n  password\n});\nconst AuthProvider = _ref => {\n  _s2();\n  let {\n    children\n  } = _ref;\n  const [user, setUser] = useState(null);\n  const [auth, setAuth] = useState(false);\n  var linkLooker;\n  async function getClientes() {\n    try {\n      const {\n        data,\n        error\n      } = await supabase.from('pacPlanificacion').select('*');\n      console.log(data);\n      console.log(error);\n      return data;\n    } catch (error) {\n      return error;\n    }\n  }\n  async function addClient(cliente) {\n    const {\n      codigo,\n      nombreProgramaFinanciero,\n      partida,\n      nombrePartida,\n      codigoOrientadorGasto,\n      descripcionGasto,\n      asignacionInicial,\n      codificado,\n      reformaPresupuesto,\n      presupuestoCodificado2023,\n      traspasos,\n      presupuestoCodificado,\n      id\n    } = cliente;\n    const agenteUid = user.id;\n    console.log(cliente);\n    try {\n      const {\n        data,\n        error\n      } = await supabase.from('pacPlanificacion').insert({\n        codigo,\n        nombreProgramaFinanciero,\n        partida,\n        nombrePartida,\n        codigoOrientadorGasto,\n        descripcionGasto,\n        asignacionInicial,\n        codificado,\n        reformaPresupuesto,\n        presupuestoCodificado2023,\n        traspasos,\n        presupuestoCodificado,\n        id\n      }).single();\n      console.log(error);\n      if (error !== null) {\n        return 'FAIL';\n      }\n      return 'OK';\n    } catch (error) {\n      return 'FAIL';\n    }\n  }\n  async function updateClient(cliente) {\n    const {\n      codigo,\n      nombreProgramaFinanciero,\n      partida,\n      nombrePartida,\n      codigoOrientadorGasto,\n      descripcionGasto,\n      asignacionInicial,\n      codificado,\n      reformaPresupuesto,\n      presupuestoCodificado2023,\n      traspasos,\n      presupuestoCodificado,\n      id\n    } = cliente;\n    try {\n      const {\n        data,\n        error\n      } = await supabase.from('pacPlanificacion').update({\n        codigo,\n        nombreProgramaFinanciero,\n        partida,\n        nombrePartida,\n        codigoOrientadorGasto,\n        descripcionGasto,\n        asignacionInicial,\n        codificado,\n        reformaPresupuesto,\n        presupuestoCodificado2023,\n        traspasos,\n        presupuestoCodificado,\n        id\n      }).eq('id', cliente.id).select();\n      return 'OK';\n    } catch (error) {\n      return 'FAIL';\n    }\n  }\n  async function deleteClient(id) {\n    try {\n      const {\n        data,\n        error\n      } = await supabase.from('pacPlanificacion').delete().eq('id', id).select();\n      return 'OK';\n    } catch (error) {\n      return 'FAIL';\n    }\n  }\n  async function uploadDocument(file) {\n    const uuid = uuidv4();\n    const {\n      data,\n      error\n    } = await supabase.storage.from('images').upload(user.id + '/' + uuid, file); // Cooper/ASDFASDFASDF uuid, taylorSwift.png -> taylorSwift.png\n\n    if (data) {\n      console.log(data);\n      return data;\n    }\n    console.log(error);\n    return error;\n  }\n  useEffect(() => {\n    const {\n      data\n    } = supabase.auth.onAuthStateChange((event, session) => {\n      if (event === 'SIGNED_IN') {\n        setUser(session.user);\n        setAuth(true);\n        switch (user.email) {\n          case 'sebasmena@gmail.com':\n            //ADMINISTRATIVO\n            linkLooker = 'https://lookerstudio.google.com/embed/reporting/e451316a-c7f1-42d4-8fcd-5b59951f137d/page/p_t0tc9iexbd';\n            break;\n          case 'tecnico-oopp@gadmr.com':\n            //MOVILIDAD\n            linkLooker = 'https://lookerstudio.google.com/embed/reporting/4554de4e-d93d-4838-bc0f-c92a9e4f53e2/page/p_u2lgj44wbd';\n            break;\n          /*case 'munoza@gadmriobamba.gob.ec': //COMUNICACION\r\n              linkLooker = '';\r\n            break;*/\n          /*case 'guadalupej@gadmriobamba.gob.ec': //TALENTO HUMANO\r\n          linkLooker = '';\r\n          break;*/\n          case 'erazoa@gadmriobamba.gob.ec':\n            //ORDENAMIENTO TERRITORIAL - CON GMAIL\n            linkLooker = 'https://lookerstudio.google.com/embed/reporting/3cdd4c47-8054-44f1-951f-fe4955f97e8f/page/p_8xz2wi4xbd';\n            break;\n          case 'neiram@gadmriobamba.gob.ec':\n            //SERVICIOS MUNICIPALES\n            linkLooker = 'https://lookerstudio.google.com/embed/reporting/52db98c6-f191-4d84-96d4-6ded09d01efa/page/p_ozlxb05xbd';\n            break;\n          case 'huilcav@gadmriobamba.gob.ec':\n            //REGISTRO DE LA PROPIEDAD\n            linkLooker = 'https://lookerstudio.google.com/embed/reporting/a8c32965-6228-4eb2-9432-e219034cce23/page/p_dmpcbq1xbd';\n            break;\n          case 'telloisabel@gmail.com':\n            //OBRAS PUBLICAS - CON GMAIL\n            linkLooker = 'https://lookerstudio.google.com/embed/reporting/908fe3d0-3f48-4fdd-a465-96ce2acf66c1/page/p_nk6k7qms8c';\n            break;\n        }\n      }\n    });\n    return () => {\n      data.subscription.unsubscribe();\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(AuthContext.Provider, {\n    value: {\n      user,\n      linkLooker,\n      login,\n      getClientes,\n      addClient,\n      updateClient,\n      deleteClient,\n      uploadDocument\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 187,\n    columnNumber: 5\n  }, this);\n};\n_s2(AuthProvider, \"ojGN/dhoigeqxdWUN1ItNW+qqxM=\");\n_c = AuthProvider;\nexport default AuthProvider;\nvar _c;\n$RefreshReg$(_c, \"AuthProvider\");","map":{"version":3,"names":["createContext","useContext","useEffect","useState","v4","uuidv4","supabase","jsxDEV","_jsxDEV","AuthContext","useAuth","_s","login","email","password","auth","signInWithPassword","AuthProvider","_ref","_s2","children","user","setUser","setAuth","linkLooker","getClientes","data","error","from","select","console","log","addClient","cliente","codigo","nombreProgramaFinanciero","partida","nombrePartida","codigoOrientadorGasto","descripcionGasto","asignacionInicial","codificado","reformaPresupuesto","presupuestoCodificado2023","traspasos","presupuestoCodificado","id","agenteUid","insert","single","updateClient","update","eq","deleteClient","delete","uploadDocument","file","uuid","storage","upload","onAuthStateChange","event","session","subscription","unsubscribe","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/Usuario/Desktop/Municipio/gestion-documental/src/context/supaContex.js"],"sourcesContent":["import { createContext, useContext, useEffect, useState } from 'react';\r\nimport { v4 as uuidv4 } from 'uuid';\r\n\r\nimport { supabase } from '../utility/SupabaseClient';\r\n\r\nconst AuthContext = createContext({});\r\n\r\nexport const useAuth = () => useContext(AuthContext);\r\n\r\nconst login = async (email, password) => supabase.auth.signInWithPassword({ email, password });\r\n\r\nconst AuthProvider = ({ children }) => {\r\n  const [user, setUser] = useState(null);\r\n  const [auth, setAuth] = useState(false);\r\n  var linkLooker\r\n\r\n  async function getClientes() {\r\n    try {\r\n      const { data, error } = await supabase.from('pacPlanificacion').select('*');\r\n\r\n      console.log(data);\r\n      console.log(error);\r\n\r\n      return data;\r\n    } catch (error) {\r\n      return error;\r\n    }\r\n  }\r\n\r\n  async function addClient(cliente) {\r\n    const {\r\n      codigo,\r\n      nombreProgramaFinanciero,\r\n      partida,\r\n      nombrePartida,\r\n      codigoOrientadorGasto,\r\n      descripcionGasto,\r\n      asignacionInicial,\r\n      codificado,\r\n      reformaPresupuesto,\r\n      presupuestoCodificado2023,\r\n      traspasos,\r\n      presupuestoCodificado,\r\n      id,\r\n    } = cliente;\r\n\r\n    const agenteUid = user.id;\r\n    console.log(cliente);\r\n    try {\r\n      const { data, error } = await supabase\r\n        .from('pacPlanificacion')\r\n        .insert({\r\n          codigo,\r\n          nombreProgramaFinanciero,\r\n          partida,\r\n          nombrePartida,\r\n          codigoOrientadorGasto,\r\n          descripcionGasto,\r\n          asignacionInicial,\r\n          codificado,\r\n          reformaPresupuesto,\r\n          presupuestoCodificado2023,\r\n          traspasos,\r\n          presupuestoCodificado,\r\n          id,\r\n        })\r\n        .single();\r\n      console.log(error);\r\n      if (error !== null) {\r\n        return 'FAIL';\r\n      }\r\n\r\n      return 'OK';\r\n    } catch (error) {\r\n      return 'FAIL';\r\n    }\r\n  }\r\n\r\n  async function updateClient(cliente) {\r\n    const {\r\n      codigo,\r\n      nombreProgramaFinanciero,\r\n      partida,\r\n      nombrePartida,\r\n      codigoOrientadorGasto,\r\n      descripcionGasto,\r\n      asignacionInicial,\r\n      codificado,\r\n      reformaPresupuesto,\r\n      presupuestoCodificado2023,\r\n      traspasos,\r\n      presupuestoCodificado,\r\n      id,\r\n    } = cliente;\r\n\r\n    try {\r\n      const { data, error } = await supabase\r\n        .from('pacPlanificacion')\r\n        .update({\r\n          codigo,\r\n          nombreProgramaFinanciero,\r\n          partida,\r\n          nombrePartida,\r\n          codigoOrientadorGasto,\r\n          descripcionGasto,\r\n          asignacionInicial,\r\n          codificado,\r\n          reformaPresupuesto,\r\n          presupuestoCodificado2023,\r\n          traspasos,\r\n          presupuestoCodificado,\r\n          id,\r\n        })\r\n        .eq('id', cliente.id)\r\n        .select();\r\n\r\n      return 'OK';\r\n    } catch (error) {\r\n      return 'FAIL';\r\n    }\r\n  }\r\n\r\n  async function deleteClient(id) {\r\n    try {\r\n      const { data, error } = await supabase.from('pacPlanificacion').delete().eq('id', id).select();\r\n\r\n      return 'OK';\r\n    } catch (error) {\r\n      return 'FAIL';\r\n    }\r\n  }\r\n\r\n  async function uploadDocument(file) {\r\n    const uuid = uuidv4();\r\n    const { data, error } = await supabase.storage.from('images').upload(user.id + '/' + uuid, file); // Cooper/ASDFASDFASDF uuid, taylorSwift.png -> taylorSwift.png\r\n\r\n    if (data) {\r\n      console.log(data);\r\n\r\n      return data;\r\n    }\r\n    console.log(error);\r\n\r\n    return error;\r\n  }\r\n\r\n  useEffect(() => {\r\n    const { data } = supabase.auth.onAuthStateChange((event, session) => {\r\n      if (event === 'SIGNED_IN') {\r\n        setUser(session.user);\r\n        setAuth(true);\r\n\r\n        switch (user.email) {\r\n          case 'sebasmena@gmail.com': //ADMINISTRATIVO\r\n            linkLooker = 'https://lookerstudio.google.com/embed/reporting/e451316a-c7f1-42d4-8fcd-5b59951f137d/page/p_t0tc9iexbd';\r\n            break;\r\n          case 'tecnico-oopp@gadmr.com': //MOVILIDAD\r\n            linkLooker ='https://lookerstudio.google.com/embed/reporting/4554de4e-d93d-4838-bc0f-c92a9e4f53e2/page/p_u2lgj44wbd';\r\n            break;\r\n          /*case 'munoza@gadmriobamba.gob.ec': //COMUNICACION\r\n              linkLooker = '';\r\n            break;*/\r\n                  /*case 'guadalupej@gadmriobamba.gob.ec': //TALENTO HUMANO\r\n              linkLooker = '';\r\n            break;*/\r\n          case 'erazoa@gadmriobamba.gob.ec': //ORDENAMIENTO TERRITORIAL - CON GMAIL\r\n            linkLooker = 'https://lookerstudio.google.com/embed/reporting/3cdd4c47-8054-44f1-951f-fe4955f97e8f/page/p_8xz2wi4xbd';\r\n            break;\r\n          case 'neiram@gadmriobamba.gob.ec': //SERVICIOS MUNICIPALES\r\n            linkLooker = 'https://lookerstudio.google.com/embed/reporting/52db98c6-f191-4d84-96d4-6ded09d01efa/page/p_ozlxb05xbd';\r\n            break;\r\n          case 'huilcav@gadmriobamba.gob.ec': //REGISTRO DE LA PROPIEDAD\r\n            linkLooker = 'https://lookerstudio.google.com/embed/reporting/a8c32965-6228-4eb2-9432-e219034cce23/page/p_dmpcbq1xbd';\r\n            break;\r\n          case 'telloisabel@gmail.com': //OBRAS PUBLICAS - CON GMAIL\r\n            linkLooker = 'https://lookerstudio.google.com/embed/reporting/908fe3d0-3f48-4fdd-a465-96ce2acf66c1/page/p_nk6k7qms8c';\r\n            break;\r\n        }\r\n      }\r\n    });\r\n    return () => {\r\n      data.subscription.unsubscribe();\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <AuthContext.Provider value={{ user, linkLooker, login, getClientes, addClient, updateClient, deleteClient, uploadDocument }}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n\r\nexport default AuthProvider;\r\n"],"mappings":";;;AAAA,SAASA,aAAa,EAAEC,UAAU,EAAEC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AACtE,SAASC,EAAE,IAAIC,MAAM,QAAQ,MAAM;AAEnC,SAASC,QAAQ,QAAQ,2BAA2B;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAErD,MAAMC,WAAW,gBAAGT,aAAa,CAAC,CAAC,CAAC,CAAC;AAErC,OAAO,MAAMU,OAAO,GAAGA,CAAA;EAAAC,EAAA;EAAA,OAAMV,UAAU,CAACQ,WAAW,CAAC;AAAA;AAACE,EAAA,CAAxCD,OAAO;AAEpB,MAAME,KAAK,GAAG,MAAAA,CAAOC,KAAK,EAAEC,QAAQ,KAAKR,QAAQ,CAACS,IAAI,CAACC,kBAAkB,CAAC;EAAEH,KAAK;EAAEC;AAAS,CAAC,CAAC;AAE9F,MAAMG,YAAY,GAAGC,IAAA,IAAkB;EAAAC,GAAA;EAAA,IAAjB;IAAEC;EAAS,CAAC,GAAAF,IAAA;EAChC,MAAM,CAACG,IAAI,EAAEC,OAAO,CAAC,GAAGnB,QAAQ,CAAC,IAAI,CAAC;EACtC,MAAM,CAACY,IAAI,EAAEQ,OAAO,CAAC,GAAGpB,QAAQ,CAAC,KAAK,CAAC;EACvC,IAAIqB,UAAU;EAEd,eAAeC,WAAWA,CAAA,EAAG;IAC3B,IAAI;MACF,MAAM;QAAEC,IAAI;QAAEC;MAAM,CAAC,GAAG,MAAMrB,QAAQ,CAACsB,IAAI,CAAC,kBAAkB,CAAC,CAACC,MAAM,CAAC,GAAG,CAAC;MAE3EC,OAAO,CAACC,GAAG,CAACL,IAAI,CAAC;MACjBI,OAAO,CAACC,GAAG,CAACJ,KAAK,CAAC;MAElB,OAAOD,IAAI;IACb,CAAC,CAAC,OAAOC,KAAK,EAAE;MACd,OAAOA,KAAK;IACd;EACF;EAEA,eAAeK,SAASA,CAACC,OAAO,EAAE;IAChC,MAAM;MACJC,MAAM;MACNC,wBAAwB;MACxBC,OAAO;MACPC,aAAa;MACbC,qBAAqB;MACrBC,gBAAgB;MAChBC,iBAAiB;MACjBC,UAAU;MACVC,kBAAkB;MAClBC,yBAAyB;MACzBC,SAAS;MACTC,qBAAqB;MACrBC;IACF,CAAC,GAAGb,OAAO;IAEX,MAAMc,SAAS,GAAG1B,IAAI,CAACyB,EAAE;IACzBhB,OAAO,CAACC,GAAG,CAACE,OAAO,CAAC;IACpB,IAAI;MACF,MAAM;QAAEP,IAAI;QAAEC;MAAM,CAAC,GAAG,MAAMrB,QAAQ,CACnCsB,IAAI,CAAC,kBAAkB,CAAC,CACxBoB,MAAM,CAAC;QACNd,MAAM;QACNC,wBAAwB;QACxBC,OAAO;QACPC,aAAa;QACbC,qBAAqB;QACrBC,gBAAgB;QAChBC,iBAAiB;QACjBC,UAAU;QACVC,kBAAkB;QAClBC,yBAAyB;QACzBC,SAAS;QACTC,qBAAqB;QACrBC;MACF,CAAC,CAAC,CACDG,MAAM,EAAE;MACXnB,OAAO,CAACC,GAAG,CAACJ,KAAK,CAAC;MAClB,IAAIA,KAAK,KAAK,IAAI,EAAE;QAClB,OAAO,MAAM;MACf;MAEA,OAAO,IAAI;IACb,CAAC,CAAC,OAAOA,KAAK,EAAE;MACd,OAAO,MAAM;IACf;EACF;EAEA,eAAeuB,YAAYA,CAACjB,OAAO,EAAE;IACnC,MAAM;MACJC,MAAM;MACNC,wBAAwB;MACxBC,OAAO;MACPC,aAAa;MACbC,qBAAqB;MACrBC,gBAAgB;MAChBC,iBAAiB;MACjBC,UAAU;MACVC,kBAAkB;MAClBC,yBAAyB;MACzBC,SAAS;MACTC,qBAAqB;MACrBC;IACF,CAAC,GAAGb,OAAO;IAEX,IAAI;MACF,MAAM;QAAEP,IAAI;QAAEC;MAAM,CAAC,GAAG,MAAMrB,QAAQ,CACnCsB,IAAI,CAAC,kBAAkB,CAAC,CACxBuB,MAAM,CAAC;QACNjB,MAAM;QACNC,wBAAwB;QACxBC,OAAO;QACPC,aAAa;QACbC,qBAAqB;QACrBC,gBAAgB;QAChBC,iBAAiB;QACjBC,UAAU;QACVC,kBAAkB;QAClBC,yBAAyB;QACzBC,SAAS;QACTC,qBAAqB;QACrBC;MACF,CAAC,CAAC,CACDM,EAAE,CAAC,IAAI,EAAEnB,OAAO,CAACa,EAAE,CAAC,CACpBjB,MAAM,EAAE;MAEX,OAAO,IAAI;IACb,CAAC,CAAC,OAAOF,KAAK,EAAE;MACd,OAAO,MAAM;IACf;EACF;EAEA,eAAe0B,YAAYA,CAACP,EAAE,EAAE;IAC9B,IAAI;MACF,MAAM;QAAEpB,IAAI;QAAEC;MAAM,CAAC,GAAG,MAAMrB,QAAQ,CAACsB,IAAI,CAAC,kBAAkB,CAAC,CAAC0B,MAAM,EAAE,CAACF,EAAE,CAAC,IAAI,EAAEN,EAAE,CAAC,CAACjB,MAAM,EAAE;MAE9F,OAAO,IAAI;IACb,CAAC,CAAC,OAAOF,KAAK,EAAE;MACd,OAAO,MAAM;IACf;EACF;EAEA,eAAe4B,cAAcA,CAACC,IAAI,EAAE;IAClC,MAAMC,IAAI,GAAGpD,MAAM,EAAE;IACrB,MAAM;MAAEqB,IAAI;MAAEC;IAAM,CAAC,GAAG,MAAMrB,QAAQ,CAACoD,OAAO,CAAC9B,IAAI,CAAC,QAAQ,CAAC,CAAC+B,MAAM,CAACtC,IAAI,CAACyB,EAAE,GAAG,GAAG,GAAGW,IAAI,EAAED,IAAI,CAAC,CAAC,CAAC;;IAElG,IAAI9B,IAAI,EAAE;MACRI,OAAO,CAACC,GAAG,CAACL,IAAI,CAAC;MAEjB,OAAOA,IAAI;IACb;IACAI,OAAO,CAACC,GAAG,CAACJ,KAAK,CAAC;IAElB,OAAOA,KAAK;EACd;EAEAzB,SAAS,CAAC,MAAM;IACd,MAAM;MAAEwB;IAAK,CAAC,GAAGpB,QAAQ,CAACS,IAAI,CAAC6C,iBAAiB,CAAC,CAACC,KAAK,EAAEC,OAAO,KAAK;MACnE,IAAID,KAAK,KAAK,WAAW,EAAE;QACzBvC,OAAO,CAACwC,OAAO,CAACzC,IAAI,CAAC;QACrBE,OAAO,CAAC,IAAI,CAAC;QAEb,QAAQF,IAAI,CAACR,KAAK;UAChB,KAAK,qBAAqB;YAAE;YAC1BW,UAAU,GAAG,wGAAwG;YACrH;UACF,KAAK,wBAAwB;YAAE;YAC7BA,UAAU,GAAE,wGAAwG;YACpH;UACF;AACV;AACA;UACkB;AAClB;AACA;UACU,KAAK,4BAA4B;YAAE;YACjCA,UAAU,GAAG,wGAAwG;YACrH;UACF,KAAK,4BAA4B;YAAE;YACjCA,UAAU,GAAG,wGAAwG;YACrH;UACF,KAAK,6BAA6B;YAAE;YAClCA,UAAU,GAAG,wGAAwG;YACrH;UACF,KAAK,uBAAuB;YAAE;YAC5BA,UAAU,GAAG,wGAAwG;YACrH;QAAM;MAEZ;IACF,CAAC,CAAC;IACF,OAAO,MAAM;MACXE,IAAI,CAACqC,YAAY,CAACC,WAAW,EAAE;IACjC,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EAEN,oBACExD,OAAA,CAACC,WAAW,CAACwD,QAAQ;IAACC,KAAK,EAAE;MAAE7C,IAAI;MAAEG,UAAU;MAAEZ,KAAK;MAAEa,WAAW;MAAEO,SAAS;MAAEkB,YAAY;MAAEG,YAAY;MAAEE;IAAe,CAAE;IAAAnC,QAAA,EAC1HA;EAAQ;IAAA+C,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,QACY;AAE3B,CAAC;AAACnD,GAAA,CAnLIF,YAAY;AAAAsD,EAAA,GAAZtD,YAAY;AAqLlB,eAAeA,YAAY;AAAC,IAAAsD,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module"}